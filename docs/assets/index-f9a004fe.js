(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const h=document.querySelector("#btn-draw"),y=document.querySelector("#btn-stop"),a=(t,e,o)=>{if(!t)throw new Error("Se necesitan los puntos minimos");if(!e)throw new Error("No se tiene un deck");h.disabled=!0,y.disabled=!0;let r=0;do{const n=d(e);r=f(n,o.length-1,o),u(n,o.length-1)}while(r<t&&t<=21);S(o)},g=t=>{for(let e=t.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t},b=(t,e,o=[])=>{if(!t||t.length===0)throw console.error("Card types are needed!");if(!e||e.length===0)throw console.error("Special cards are needed!");for(let r=2;r<=10;r++)for(let n of t)o.push(`${r}${n}`);for(let r of e)for(let n of t)o.push(`${r}${n}`);return g(o)},d=t=>!t||t.length===0?console.warn("No cards left in deck"):t.pop(),w=(t,e=t.substring(0,t.length-1))=>isNaN(e)?e==="A"?11:10:parseInt(e),u=(t,e)=>{const o=document.createElement("img"),r=document.querySelectorAll(".divCards");o.src=`assets/cartas/${t}.png`,o.classList.add("carta"),r[e].append(o)},f=(t,e,o)=>{const r=document.querySelectorAll(".points");return o[e]+=w(t),r[e].innerText=o[e],o[e]},S=t=>{const[e,o]=t;setTimeout(()=>{o===e?(alert("Tie!"),console.warn("Tie!")):e>21||o>e&&o<=21?(alert("Computer wins!"),console.warn("Computer wins!")):(o>21||e>o)&&(alert("Player wins!"),console.warn("Player wins!"))},100)},q=(t,e,o)=>{(t>21||t===21)&&a(t,e,o)};let l=[],c=[];const L=["C","D","H","S"],v=["A","J","Q","K"],m=document.querySelector("#btn-draw"),p=document.querySelector("#btn-stop"),C=document.querySelector("#btn-reset"),A=document.querySelectorAll(".points"),E=document.querySelectorAll(".divCards"),N=document.querySelectorAll(".points"),P=(t=2)=>{console.clear(),c=[],N.value=0,l=b(L,v),m.disabled=!1,p.disabled=!1;for(let e=0;e<t;e++)c.push(0),A[e].innerText=0,E[e].innerHTML=""};m.addEventListener("click",()=>{const t=d(l),e=f(t,0,c);u(t,0),q(e,l,c)});p.addEventListener("click",()=>a(c[0],l,c));C.addEventListener("click",()=>P());
